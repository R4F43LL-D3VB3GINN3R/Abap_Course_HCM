üöÄ‚ú® Implementando BAdIs no SAP HCM! ‚ú®üöÄ

As Business Add-Ins (BAdIs) s√£o uma poderosa ferramenta de extensibilidade no SAP HCM. Elas permitem adicionar ou modificar a l√≥gica de neg√≥cios padr√£o sem modificar o c√≥digo-fonte original.

üîç Visualizando BAdIs:
1Ô∏è‚É£ Acesse a transa√ß√£o SE84.
2Ô∏è‚É£ V√° para Enhancements.
3Ô∏è‚É£ Selecione Business Add-Ins.
4Ô∏è‚É£ Escolha Definitions.
5Ô∏è‚É£ Digite o nome da BAdI, como HRPAD00INFTY.
6Ô∏è‚É£ Execute o programa.
7Ô∏è‚É£ Clique duas vezes no nome da BAdI.
8Ô∏è‚É£ V√° para a aba Interface para ver os m√©todos internos.

‚ú® Implementando BAdIs:
1Ô∏è‚É£ Acesse a transa√ß√£o SE19.
2Ô∏è‚É£ Na caixa Create Implementation, escolha Classic BAdI.
3Ô∏è‚É£ Insira o nome da BAdI, como HRPAD00INFTY.
4Ô∏è‚É£ Clique em Criar.
5Ô∏è‚É£ Nomeie sua implementa√ß√£o.
6Ô∏è‚É£ Insira uma descri√ß√£o.
7Ô∏è‚É£ Ative a implementa√ß√£o.

‚ú® Implementando uma BAdI para personaliza√ß√£o do infotype 0015 no SAP HCM! ‚ú®

Neste exemplo, criamos uma implementa√ß√£o para a BAdI HRPAD00INFTY no SAP HCM. Esta BAdI permite a execu√ß√£o de l√≥gica personalizada antes da exibi√ß√£o de um infotype. No nosso caso, estamos focando no infotype 0015.

1Ô∏è‚É£ Verifica√ß√£o do Infotype 0015: Primeiro, verificamos se o infotype atual √© o 0015.

2Ô∏è‚É£ Declara√ß√£o de Campos e Vari√°veis: Em seguida, declaramos um campo-s√≠mbolo para armazenar a data de in√≠cio (begda) do infotype 0015 e algumas vari√°veis locais para manipula√ß√£o.

3Ô∏è‚É£ Associa√ß√£o do Campo-s√≠mbolo: Utilizamos ASSIGN para associar dinamicamente o campo de data de in√≠cio (begda) do infotype 0015 ao campo-s√≠mbolo.

4Ô∏è‚É£ Obten√ß√£o da Data de In√≠cio do Per√≠odo de Folha de Pagamento: Chamamos a fun√ß√£o HR_MX_GET_PAYROLL_PERIOD para buscar a data de in√≠cio do per√≠odo de folha de pagamento a partir da √°rea de folha de pagamento do funcion√°rio.

5Ô∏è‚É£ Atribui√ß√£o da Data ao Campo-s√≠mbolo: Se a fun√ß√£o for bem-sucedida, atribu√≠mos a data obtida ao campo-s√≠mbolo.

Este c√≥digo permite a personaliza√ß√£o din√¢mica da data de in√≠cio do infotype 0015 com base na l√≥gica espec√≠fica de neg√≥cios de sua organiza√ß√£o. 

method IF_EX_HRPAD00INFTY~BEFORE_OUTPUT.

  IF innnn-infty = '0015'.                          "Se o infotype for 0015..."
    FIELD-SYMBOLS: <fs_begda> TYPE sy-datum.        "Cria um espa√ßo na mem√≥ria que aponta para o campo da estrutura do infotype."
    DATA: lw_0015 TYPE p0015,                       "Cria uma vari√°vel do tipo do infotype."
          lv_date TYPE datum.                       "Cria uma vari√°vel do tipo data."
    ASSIGN ('(MP001500)p0015-begda') to <fs_begda>. "Associa o campo da estrutura ao espa√ßo na mem√≥ria."
  ENDIF.

  CALL FUNCTION 'HR_MX_GET_PAYROLL_PERIOD' "fun√ß√£o para buscar a data na tabela t549q a partir da payroll area do funcionario"
    EXPORTING
      payroll_area = ipsyst-abkrs
      date = sy-datum
    IMPORTING
      period_begin = lv_date
    EXCEPTIONS
      t549a_error = 1
      t549q_error = 2.

  IF sy-subrc = 0.        "Se a instru√ß√£o correr devidamente."
    <fs_begda> = lv_date. "A estrutura recebe o valor da data retornado."
  ENDIF.

endmethod.
